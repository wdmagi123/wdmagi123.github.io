<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>资产管理应用</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: #f5f5f5;
        }
                /* 筛选区域样式 */
    .filter-section {
        display: flex;
        gap: 10px; /* 减小间距 */
        margin-bottom: 10px; /* 减小底部间距 */
        align-items: center;
        flex-wrap: wrap;
    }
    
    .filter-item {
        display: flex;
        align-items: center;
        gap: 5px;
    }
    
    .filter-item label {
        font-size: 12px; /* 减小字体大小 */
        color: #555; /* 更加柔和的颜色 */
    }
    
    .filter-item select {
        padding: 4px 8px; /* 减小内边距 */
        border: 1px solid #ccc; /* 更加柔和的边框 */
        border-radius: 4px;
        min-width: 100px; /* 设置最小宽度 */
        font-size: 12px; /* 减小字体大小 */
    }
    
    /* 筛选按钮样式 */
    #apply-filter, #clear-filter {
        padding: 4px 8px; /* 减小内边距 */
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 12px; /* 减小字体大小 */
    }
    
    #apply-filter {
        background-color: #3b82f6;
        color: white;
    }
    
    #clear-filter {
        background-color: #e5e7eb;
        color: #374151;
    }
        .app-container {
            max-width: 414px;
            height: 736px;
            margin: 20px auto;
            border: 10px solid #000;
            border-radius: 40px;
            overflow: hidden;
            position: relative;
            background-color: #fff;
        }
        .status-bar {
            height: 30px;
            background-color: #000;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 15px;
        }
        .screen {
            display: none;
            height: calc(100% - 80px);
            overflow-y: auto;
        }
        .screen.active {
            display: block;
        }
        .tab-bar {
            height: 50px;
            position: absolute;
            bottom: 0;
            width: 100%;
            display: flex;
            justify-content: space-around;
            background-color: #fff;
            border-top: 1px solid #e0e0e0;
        }
        .tab {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 5px;
            width: 33.33%;
            color: #777;
        }
        .tab.active {
            color: #007AFF;
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            max-width: 85%;          /* 减小弹窗宽度 */
            max-height: 60%;         /* 减小弹窗高度 */
            width: 300px;            /* 设置固定宽度 */
            text-align: center;      /* 统一文本居中 */
        }
        .modal-buttons {
            display: flex;
            justify-content: center;  /* 按钮居中对齐 */
            gap: 10px;               /* 按钮间距 */
            margin-top: 16px;        /* 与内容保持统一间距 */
        }
        .modal-buttons button {
            padding: 8px 16px;       /* 统一按钮内边距 */
            border-radius: 4px;      /* 统一圆角 */
            font-size: 14px;         /* 统一字体大小 */
            cursor: pointer;
            border: none;
            background-color: #3b82f6; /* 统一按钮颜色 */
            color: white;            /* 统一文字颜色 */
        }
        .modal-buttons button.cancel-btn {
            background-color: #ef4444; /* 取消按钮红色 */
        }
        .modal-title {
            font-size: 16px;         /* 统一标题大小 */
            font-weight: bold;
            margin-bottom: 12px;     /* 统一间距 */
        }
        .modal-message {
            font-size: 14px;         /* 统一消息文字大小 */
            margin-bottom: 16px;     /* 统一间距 */
        }
    </style>
</head>
<body class="bg-gray-200">
    <div class="app-container">
        <!-- 状态栏 -->
        <div class="status-bar">
            <span>10:30</span>
            <div>
                <span class="mr-2">5G</span>
                <span>100%</span>
            </div>
        </div>

        <!-- 我的资产页面 -->
        <div id="myAssets" class="screen active p-4">
            <div class="flex justify-between items-center mb-4">
                <h1 class="text-2xl font-bold">我的资产</h1>
                <div class="relative">
                    <input type="text" placeholder="搜索资产..." class="px-4 py-2 pr-10 rounded-full bg-gray-100 w-48 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 absolute right-3 top-2.5 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                </div>
            </div>
            
            <!-- 我的资产页面 - 替换HP图标 -->
            <div class="bg-white p-3 rounded-xl shadow-sm mb-3" onclick="showAssetDetail()">
                <div class="flex">
                    <div class="mr-3 rounded-lg overflow-hidden" style="width: 70px; height: 70px;">
                        <img class="w-16 h-16 rounded-xl object-cover mr-4" src="https://images.unsplash.com/photo-1588872657578-7efd1f1555ed?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80" alt="Dell XPS">
                    </div>
                    <div class="flex-1">
                        <h3 class="text-lg font-bold">HP Pro 笔记本电脑</h3>
                        <div class="flex justify-between text-sm text-gray-500 mt-1">
                            <span>资产编号: AS-2023-0001</span>
                        </div>
                        <div class="flex justify-between text-sm text-gray-500 mt-1">
                            <span>规格型号: X1 Pro 14寸</span>
                            <span>IT设备</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 替换iPhone图标 -->
            <div class="bg-white p-3 rounded-xl shadow-sm mb-3" onclick="showAssetDetail()">
                <div class="flex">
                    <div class="mr-3 rounded-lg overflow-hidden" style="width: 70px; height: 70px;">
                        <img src="https://images.unsplash.com/photo-1510557880182-3d4d3cba35a5?w=150&h=150&fit=crop" alt="iPhone 13 Pro" class="w-full h-full object-cover">
                    </div>
                    <div class="flex-1">
                        <h3 class="text-lg font-bold">iPhone 13 Pro 手机</h3>
                        <div class="flex justify-between text-sm text-gray-500 mt-1">
                            <span>资产编号: AS-2023-0042</span>
                        </div>
                        <div class="flex justify-between text-sm text-gray-500 mt-1">
                            <span>规格型号: 256GB 远峰蓝</span>
                            <span>通讯设备</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 替换办公椅图标 -->
            <div class="bg-white p-3 rounded-xl shadow-sm mb-3" onclick="showAssetDetail()">
                <div class="flex">
                    <div class="mr-3 rounded-lg overflow-hidden" style="width: 70px; height: 70px;">
                        <img class="w-16 h-16 rounded-xl object-cover mr-4" src="https://images.unsplash.com/photo-1527219525722-f9767a7f2884?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80" alt="AOC显示器">
                    </div>
                    <div class="flex-1">
                        <h3 class="text-lg font-bold">HermanMiller 人体工学椅</h3>
                        <div class="flex justify-between text-sm text-gray-500 mt-1">
                            <span>资产编号: AS-2022-0156</span>
                        </div>
                        <div class="flex justify-between text-sm text-gray-500 mt-1">
                            <span>规格型号: Aeron 标准款</span>
                            <span>办公家具</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 替换显示器图标 -->
            <div class="bg-white p-3 rounded-xl shadow-sm mb-3" onclick="showAssetDetail()">
                <div class="flex">
                    <div class="mr-3 rounded-lg overflow-hidden" style="width: 70px; height: 70px;">
                        <img class="w-16 h-16 rounded-xl object-cover mr-4" src="https://images.unsplash.com/photo-1555532538-dcdbd01d373d?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80" alt="Logitech鼠标">
                    </div>
                    <div class="flex-1">
                        <h3 class="text-lg font-bold">Dell U2720Q 显示器</h3>
                        <div class="flex justify-between text-sm text-gray-500 mt-1">
                            <span>资产编号: AS-2023-0085</span>
                        </div>
                        <div class="flex justify-between text-sm text-gray-500 mt-1">
                            <span>规格型号: 27寸 4K</span>
                            <span>IT设备</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 资产详情页面 -->
        <div id="assetDetail" class="screen p-4">
            <div class="flex items-center mb-4">
                <button onclick="backToAssets()" class="mr-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                    </svg>
                </button>
                <h1 class="text-2xl font-bold">资产详情</h1>
            </div>
            
            <!-- 资产详情页面 - 替换详情页HP图标 -->
            <div class="flex justify-center mb-4">
                <div class="rounded-full overflow-hidden" style="width: 100px; height: 100px;">
                    <img src="https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=200&h=200&fit=crop" alt="HP Pro" class="w-full h-full object-cover">
                </div>
            </div>
            
            <!-- 资产总览信息 -->
            <div class="bg-white rounded-xl shadow-sm p-4 mb-4">
                <h2 class="text-lg font-bold mb-3">总览</h2>
                <div class="grid grid-cols-2 gap-3">
                    <div>
                        <p class="text-gray-500 text-sm">资产名称</p>
                        <p class="font-medium">HP Pro 笔记本电脑</p>
                    </div>
                    <div>
                        <p class="text-gray-500 text-sm">资产编码</p>
                        <p class="font-medium">AS-2023-0001</p>
                    </div>
                    <div>
                        <p class="text-gray-500 text-sm">设备编码</p>
                        <p class="font-medium">MAC-2023-0001</p>
                    </div>
                    <div>
                        <p class="text-gray-500 text-sm">品牌</p>
                        <p class="font-medium">Apple</p>
                    </div>
                    <div>
                        <p class="text-gray-500 text-sm">制造厂商</p>
                        <p class="font-medium">Apple Inc.</p>
                    </div>
                    <div>
                        <p class="text-gray-500 text-sm">规格型号</p>
                        <p class="font-medium">M1 Pro 14寸</p>
                    </div>
                    <div>
                        <p class="text-gray-500 text-sm">资产类别</p>
                        <p class="font-medium">IT设备</p>
                    </div>
                    <div>
                        <p class="text-gray-500 text-sm">数量</p>
                        <p class="font-medium">1台</p>
                    </div>
                    <div>
                        <p class="text-gray-500 text-sm">资产启用日期</p>
                        <p class="font-medium">2023-03-15</p>
                    </div>
                </div>
            </div>
            
            <!-- 实物保管信息 -->
            <div class="bg-white rounded-xl shadow-sm p-4 mb-4">
                <h2 class="text-lg font-bold mb-3">实物保管信息</h2>
                <div class="grid grid-cols-2 gap-3">
                    <div>
                        <p class="text-gray-500 text-sm">资产保管人</p>
                        <p class="font-medium">张三</p>
                    </div>
                    <div>
                        <p class="text-gray-500 text-sm">资产保管部门</p>
                        <p class="font-medium">财务资产部</p>   
                    </div>
                    <div>
                        <p class="text-gray-500 text-sm">实物保管地点</p>
                        <p class="font-medium">北七家园区C座6层</p>
                    </div>
                </div>
            </div>
            
            <!-- 资产价值信息 -->
            <div class="bg-white rounded-xl shadow-sm p-4 mb-4">
                <h2 class="text-lg font-bold mb-3">资产价值信息</h2>
                <div class="grid grid-cols-2 gap-3">
                    <div>
                        <p class="text-gray-500 text-sm">资产原值</p>
                        <p class="font-medium">￥16,999.00</p>
                    </div>
                    <div>
                        <p class="text-gray-500 text-sm">资产净值</p>
                        <p class="font-medium">￥13,500.00</p>
                    </div>
                    <!-- <div>
                        <p class="text-gray-500 text-sm">资产启用日期</p>
                        <p class="font-medium">2023-03-20</p>
                    </div> -->
                    <div>
                        <p class="text-gray-500 text-sm">预定使用年限</p>
                        <p class="font-medium">5年</p>
                    </div>
                </div>
            </div>
           
            
            <!-- 操作功能按钮 -->
            <div class="grid grid-cols-3 gap-3 mb-4">
                <button onclick="showDeptChange()" class="p-3 bg-blue-50 rounded-xl text-blue-600 text-sm font-medium">
                    部门/单位内变更
                </button>
                <button onclick="showCrossDeptTransfer()" class="p-3 bg-green-50 rounded-xl text-green-600 text-sm font-medium">
                    跨部门/单位调拨
                </button>
                <button onclick="showAssetDisposal()" class="p-3 bg-red-50 rounded-xl text-red-600 text-sm font-medium">
                    资产报废
                </button>
            </div>
        </div>

<!-- 1-1. 部门/单位内变更申请页面 - 更紧凑的布局 -->
<div id="deptChange" class="screen p-3">
    <div class="flex items-center mb-3">
        <button onclick="backToAssetDetail()" class="mr-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
            </svg>
        </button>
        <h1 class="text-xl font-bold">部门/单位内变更</h1>
    </div>
    
    <div class="bg-white rounded-xl shadow-sm p-3 mb-3">
        <div class="grid grid-cols-2 gap-2">
            <div>
                <p class="text-gray-500 text-xs">申请人</p>
                <p class="font-medium text-sm">张三</p>
            </div>
            <div>
                <p class="text-gray-500 text-xs">申请公司</p>
                <p class="font-medium text-sm">环宇互联网科技有限公司</p>
            </div>
            <div>
                <p class="text-gray-500 text-xs">申请部门</p>
                <p class="font-medium text-sm">产品研发部</p>
            </div>
            <div>
                <p class="text-gray-500 text-xs">申请日期</p>
                <p class="font-medium text-sm">2024-03-22</p>
            </div>
        </div>
    </div>
    
    <div class="bg-white rounded-xl shadow-sm p-3 mb-3">
        <h2 class="text-base font-bold mb-2">资产信息</h2>
        <div class="grid grid-cols-2 gap-2">
            <div>
                <p class="text-gray-500 text-xs">资产名称</p>
                <p class="font-medium text-sm">HP Pro</p>
            </div>
            <div>
                <p class="text-gray-500 text-xs">资产编号</p>
                <p class="font-medium text-sm">AS-2024-001</p>
            </div>
            <div>
                <p class="text-gray-500 text-xs">规格型号</p>
                <p class="font-medium text-sm">13寸 M2芯片</p>
            </div>
            <div>
                <p class="text-gray-500 text-xs">实物保管地点</p>
                <p class="font-medium text-sm">北七家园区C座6层</p>
            </div>
        </div>
    </div>
    
    <div class="bg-white rounded-xl shadow-sm p-3 mb-3">
        <h2 class="text-base font-bold mb-2">变更信息</h2>
        <div class="mb-2">
            <label class="block text-gray-700 text-xs font-bold mb-1" for="current-keeper">
                本部门/处室资产管理人
            </label>
            <select class="block appearance-none w-full bg-white border border-gray-200 py-2 px-3 pr-8 rounded leading-tight focus:outline-none focus:border-blue-500 text-sm" id="current-keeper">
                <option>请选择...</option>
                <option>张三</option>
                <option>李四</option>
            </select>
        </div>
        
        <!--  <div class="mb-2">
            <label class="block text-gray-700 text-xs font-bold mb-1" for="new-keeper">
                本部门新资产保管人
            </label>
            <select class="block appearance-none w-full bg-white border border-gray-200 py-2 px-3 pr-8 rounded leading-tight focus:outline-none focus:border-blue-500 text-sm" id="new-keeper">
                <option>请选择...</option>
                <option>王五</option>
                <option>赵六</option>
            </select>
        </div>       -->
        
        
        <div class="mb-2">
            <label class="block text-gray-700 text-xs font-bold mb-1" for="new-location">
                变更后新保管人
            </label>
            <select class="block appearance-none w-full bg-white border border-gray-200 py-2 px-3 pr-8 rounded leading-tight focus:outline-none focus:border-blue-500 text-sm" id="new-location">
                <option>请选择...</option>
                <option>李四</option>
                <option>王五</option>
            </select>
        </div>

        <div class="mb-2">
            <label class="block text-gray-700 text-xs font-bold mb-1" for="current-location">
                变更后新保管地点
            </label>
            <select class="block appearance-none w-full bg-white border border-gray-200 py-2 px-3 pr-8 rounded leading-tight focus:outline-none focus:border-blue-500 text-sm" id="current-location">
                <option>请选择...</option>
                <option>北七家园区C座6层</option>
                <option>北七家园区C座7层</option>
            </select>
        </div>
        
        <!-- <div class="mb-2">
            <label class="block text-gray-700 text-xs font-bold mb-1" for="change-reason">
                变更原因
            </label>
            <textarea class="appearance-none border border-gray-200 rounded w-full py-2 px-3 text-sm text-gray-700 leading-tight focus:outline-none focus:border-blue-500" id="change-reason" rows="2" placeholder="请输入变更原因..."></textarea>
        </div>
        
        <div class="mb-2">
            <label class="block text-gray-700 text-xs font-bold mb-1" for="change-date">
                变更日期
            </label>
            <div class="relative">
                <input type="date" id="change-date" class="block appearance-none w-full bg-white border border-gray-200 py-2 px-3 rounded leading-tight focus:outline-none focus:border-blue-500 text-sm">
            </div>
        </div> -->
    </div>
    
    <div class="bg-white rounded-xl shadow-sm p-3 mb-3">
        <div class="mb-2">
            <label class="block text-gray-700 text-xs font-bold mb-1" for="apply-comment">
                申请说明
            </label>
            <textarea class="appearance-none border border-gray-200 rounded w-full py-2 px-3 text-sm text-gray-700 leading-tight focus:outline-none focus:border-blue-500" id="apply-comment" rows="2" placeholder="请详细说明申请原因..."></textarea>
        </div>
    </div>
    
    <div class="flex justify-center">
        <button onclick="submitApproval('部门/单位内变更')" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-lg text-sm">
            提交审批
        </button>
    </div>
</div>

<!-- 1-2. 跨部门/单位调拨申请页面 - 更紧凑的布局 -->
<div id="crossDeptTransfer" class="screen p-3">
    <div class="flex items-center mb-3">
        <button onclick="backToAssetDetail()" class="mr-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
            </svg>
        </button>
        <h1 class="text-xl font-bold">跨部门/单位调拨</h1>
    </div>
    
    <div class="bg-white rounded-xl shadow-sm p-3 mb-3">
        <div class="grid grid-cols-2 gap-2">
            <div>
                <p class="text-gray-500 text-xs">申请人</p>
                <p class="font-medium text-sm">张三</p>
            </div>
            <div>
                <p class="text-gray-500 text-xs">申请公司</p>
                <p class="font-medium text-sm">环宇互联网科技有限公司</p>
            </div>
            <div>
                <p class="text-gray-500 text-xs">申请部门</p>
                <p class="font-medium text-sm">产品研发部</p>
            </div>
            <div>
                <p class="text-gray-500 text-xs">申请日期</p>
                <p class="font-medium text-sm">2024-03-22</p>
            </div>
            
        </div>
    </div>
    
    <div class="bg-white rounded-xl shadow-sm p-3 mb-3">
        <h2 class="text-base font-bold mb-2">资产信息</h2>
        <div class="grid grid-cols-2 gap-2">
            <div>
                <p class="text-gray-500 text-xs">资产名称</p>
                <p class="font-medium text-sm">HP Pro</p>
            </div>
            <div>
                <p class="text-gray-500 text-xs">资产编号</p>
                <p class="font-medium text-sm">AS-2024-001</p>
            </div>
            <div>
                <p class="text-gray-500 text-xs">规格型号</p>
                <p class="font-medium text-sm">13寸 M2芯片</p>
                </div>
                <div>
                    <p class="text-gray-500 text-xs">实物保管地点</p>
                    <p class="font-medium text-sm">北七家园区C座6层</p>
                </div>
            </div>
    </div>
    
    <div class="bg-white rounded-xl shadow-sm p-3 mb-3">
        <h2 class="text-base font-bold mb-2">调拨信息</h2>
        <div class="mb-2">
            <label class="block text-gray-700 text-xs font-bold mb-1" for="current-keeper-transfer">
                本部门/处室资产管理人
            </label>
            <select class="block appearance-none w-full bg-white border border-gray-200 py-2 px-3 pr-8 rounded leading-tight focus:outline-none focus:border-blue-500 text-sm" id="current-keeper-transfer">
                <option>请选择...</option>
                <option>张三</option>
                <option>李四</option>
            </select>
        </div>
        
        <div class="mb-2">
            <label class="block text-gray-700 text-xs font-bold mb-1" for="target-dept">
                调入单位
            </label>
            <select class="block appearance-none w-full bg-white border border-gray-200 py-2 px-3 pr-8 rounded leading-tight focus:outline-none focus:border-blue-500 text-sm" id="target-dept">
                <option>请选择...</option>
                <option>公司本部</option>
                <option>北京分公司</option>
                <option>华东分公司</option>
                <option>华南分公司</option>
                <option>华北分公司</option>
                <option>西南分公司</option>
                <option>西北分公司</option>
            </select>
        </div>
        
        <div class="mb-2">
            <label class="block text-gray-700 text-xs font-bold mb-1" for="target-person">
                调入部门/处室
            </label>
            <select class="block appearance-none w-full bg-white border border-gray-200 py-2 px-3 pr-8 rounded leading-tight focus:outline-none focus:border-blue-500 text-sm" id="target-person">
                <option>请选择...</option>
                <option>财务资产部</option>
                <option>客户服务部</option>
                <option>产品研发部</option>
                <option>办公室</option>
                <option>市场部</option>
                <option>人力资源部</option>
                <option>行政管理部</option>
                <option>法务部</option>
                <option>审计部</option>
            </select>
        </div>
        
        <!-- <div class="mb-2">
            <label class="block text-gray-700 text-xs font-bold mb-1" for="target-keeper">
                调入保管人
            </label>
            <input type="text" placeholder="请填写保管人姓名及部门..." class="block appearance-none w-full bg-white border border-gray-200 py-2 px-3 rounded leading-tight focus:outline-none focus:border-blue-500 text-sm" id="target-keeper">
        </div> -->
        
        <!-- <div class="mb-2">
            <label class="block text-gray-700 text-xs font-bold mb-1" for="transfer-reason">
                调拨原因
            </label>
            <textarea class="appearance-none border border-gray-200 rounded w-full py-2 px-3 text-sm text-gray-700 leading-tight focus:outline-none focus:border-blue-500" id="transfer-reason" rows="2" placeholder="请输入移交原因..."></textarea>
        </div> -->
        
        <div class="mb-2">
            <label class="block text-gray-700 text-xs font-bold mb-1" for="transfer-new-keeper">
                调入资产新保管人
            </label>
            <select class="block appearance-none w-full bg-white border border-gray-200 py-2 px-3 pr-8 rounded leading-tight focus:outline-none focus:border-blue-500 text-sm" id="transfer-new-keeper">
                <option>请选择资产新保管人...</option>
                <option>王五（市场部）</option>
                <option>赵六（财务部）</option>
            </select>
        </div>

        <div class="mb-2">
            <label class="block text-gray-700 text-xs font-bold mb-1" for="transfer-new-keeper">
                调入资产新实物管理人
            </label>
            <select class="block appearance-none w-full bg-white border border-gray-200 py-2 px-3 pr-8 rounded leading-tight focus:outline-none focus:border-blue-500 text-sm" id="transfer-new-keeper">
                <option>请选择资产新实物保管人...</option>
                <option>王五（市场部）</option>
                <option>赵六（财务部）</option>
            </select>
        </div>
        <div class="mb-2">
            <label class="block text-gray-700 text-xs font-bold mb-1" for="current-location">
                变更后新保管地点
            </label>
            <select class="block appearance-none w-full bg-white border border-gray-200 py-2 px-3 pr-8 rounded leading-tight focus:outline-none focus:border-blue-500 text-sm" id="current-location">
                <option>请选择...</option>
                <option>北七家园区C座6层</option>
                <option>北七家园区C座7层</option>
            </select>
        </div>
        
        <!-- <div class="mb-2">
            <label class="block text-gray-700 text-xs font-bold mb-1" for="transfer-date">
                移交日期
            </label>
            <div class="relative">
                <input type="date" id="transfer-date" class="block appearance-none w-full bg-white border border-gray-200 py-2 px-3 rounded leading-tight focus:outline-none focus:border-blue-500 text-sm">
            </div>
        </div> -->
    </div>
    
    <div class="bg-white rounded-xl shadow-sm p-3 mb-3">
        <div class="mb-2">
            <label class="block text-gray-700 text-xs font-bold mb-1" for="transfer-comment">
                申请说明
            </label>
            <textarea class="appearance-none border border-gray-200 rounded w-full py-2 px-3 text-sm text-gray-700 leading-tight focus:outline-none focus:border-blue-500" id="transfer-comment" rows="2" placeholder="请详细说明申请原因..."></textarea>
        </div>
    </div>
    
    <div class="flex justify-center">
        <button onclick="submitApproval('跨部门/单位调拨')" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-6 rounded-lg text-sm">
            提交审批
        </button>
    </div>
</div>

<!-- 1-3. 资产报废申请页面 - 更紧凑的布局 -->
<div id="assetDisposal" class="screen p-3">
    <div class="flex items-center mb-3">
        <button onclick="backToAssetDetail()" class="mr-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
            </svg>
        </button>
        <h1 class="text-xl font-bold">资产报废</h1>
    </div>
    
    <div class="bg-white rounded-xl shadow-sm p-3 mb-3">
        <div class="grid grid-cols-2 gap-2">
            <div>
                <p class="text-gray-500 text-xs">申请人</p>
                <p class="font-medium text-sm">张三</p>
            </div>
            <div>
                <p class="text-gray-500 text-xs">申请公司</p>
                <p class="font-medium text-sm">环宇互联网科技有限公司</p>
            </div>
            <div>
                <p class="text-gray-500 text-xs">申请部门</p>
                <p class="font-medium text-sm">产品研发部</p>
            </div>
            <div>
                <p class="text-gray-500 text-xs">申请日期</p>
                <p class="font-medium text-sm">2024-03-22</p>
            </div>
        </div>
    </div>
    
    <div class="bg-white rounded-xl shadow-sm p-3 mb-3">
        <h2 class="text-base font-bold mb-2">资产信息</h2>
        <div class="grid grid-cols-2 gap-2">
            <div>
                <p class="text-gray-500 text-xs">资产名称</p>
                <p class="font-medium text-sm">HP Pro</p>
            </div>
            <div>
                <p class="text-gray-500 text-xs">资产编号</p>
                <p class="font-medium text-sm">AS-2024-001</p>
            </div>
            <div>
                <p class="text-gray-500 text-xs">规格型号</p>
                <p class="font-medium text-sm">13寸 M2芯片</p>
            </div>
            <div>
                <p class="text-gray-500 text-xs">实物保管地点</p>
                <p class="font-medium text-sm">北七家园区C座6层</p>
            </div>
        </div>
    </div>
    
    <div class="bg-white rounded-xl shadow-sm p-3 mb-3">
        <h2 class="text-base font-bold mb-2">报废信息</h2>
        <!-- <div class="mb-2">
            <label class="block text-gray-700 text-xs font-bold mb-1" for="disposal-reason-type">
                报废类型
            </label>
            <select class="block appearance-none w-full bg-white border border-gray-200 py-2 px-3 pr-8 rounded leading-tight focus:outline-none focus:border-blue-500 text-sm" id="disposal-reason-type">
                <option>请选择...</option>
                <option>设备损坏无法修复</option>
                <option>设备老旧性能不足</option>
                <option>技术过时/淘汰</option>
                <option>其他</option>
            </select>
        </div> -->
        
        <div class="mb-2">
            <label class="block text-gray-700 text-xs font-bold mb-1" for="disposal-detail">
                报废原因
            </label>
            <textarea class="appearance-none border border-gray-200 rounded w-full py-2 px-3 text-sm text-gray-700 leading-tight focus:outline-none focus:border-blue-500" id="disposal-detail" rows="2" placeholder="请详细描述报废原因..."></textarea>
        </div>
        <div class="mb-2">
            <label class="block text-gray-700 text-xs font-bold mb-1" for="disposal-detail">
                残值处理及资产更新方案
            </label>
            <textarea class="appearance-none border border-gray-200 rounded w-full py-2 px-3 text-sm text-gray-700 leading-tight focus:outline-none focus:border-blue-500" id="disposal-detail" rows="2" placeholder="请详细描述残值处理及资产更新方案..."></textarea>
        </div>
        
        <!-- <div class="mb-2">
            <label class="block text-gray-700 text-xs font-bold mb-1" for="disposal-date">
                报废日期
            </label>
            <div class="relative">
                <input type="date" id="disposal-date" class="block appearance-none w-full bg-white border border-gray-200 py-2 px-3 rounded leading-tight focus:outline-none focus:border-blue-500 text-sm">
            </div>
        </div> -->
        

    </div>
    
    <!-- <div class="bg-white rounded-xl shadow-sm p-3 mb-3">
        <div class="mb-2">
            <label class="block text-gray-700 text-xs font-bold mb-1" for="disposal-comment">
                申请说明
            </label>
            <textarea class="appearance-none border border-gray-200 rounded w-full py-2 px-3 text-sm text-gray-700 leading-tight focus:outline-none focus:border-blue-500" id="disposal-comment" rows="2" placeholder="请详细说明申请原因..."></textarea>
        </div>
    </div> -->
    
    <div class="flex justify-center">
        <button onclick="submitApproval('资产报废')" class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-6 rounded-lg text-sm">
            提交报废申请
        </button>
    </div>
</div>

        <!-- 审批单据页面 -->
        <div id="approvals" class="screen p-4">
            <div class="flex justify-between items-center mb-4">
                <h1 class="text-2xl font-bold">审批单据</h1>
                <div class="flex space-x-2">
                    <button class="p-2 rounded-full bg-gray-100">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z" />
                        </svg>
                    </button>
                </div>
            </div>
            
            <!-- 审批Tab切换 -->
            <div class="flex border-b mb-4">
                <button onclick="showApprovalTab('pending')" id="pendingTab" class="py-2 px-4 text-blue-500 border-b-2 border-blue-500 font-medium">
                    待我审批
                </button>
                <button onclick="showApprovalTab('submitted')" id="submittedTab" class="py-2 px-4 text-gray-500 font-medium">
                    我已提交
                </button>
                <button onclick="showApprovalTab('completed')" id="completedTab" class="py-2 px-4 text-gray-500 font-medium">
                    已完成
                </button>
            </div>
            
            <!-- 待我审批列表 -->
            <div id="pendingApprovals" class="approval-list">
                <div class="bg-white p-3 rounded-xl shadow-sm mb-3" onclick="showApprovalDetail('pending', 1)">
                    <div class="flex justify-between items-center">
                        <div class="flex items-center">
                            <div class="bg-blue-100 p-2 rounded-lg mr-3">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                                </svg>
                            </div>
                            <div>
                                <h3 class="font-bold">部门/单位内变更申请</h3>
                                <p class="text-sm text-gray-500">Dell U2720Q 显示器</p>
                            </div>
                        </div>
                        <div class="text-right">
                            <span class="inline-block px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full">待审批</span>
                            <p class="text-xs text-gray-500 mt-1">2023-08-15 14:30</p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white p-3 rounded-xl shadow-sm mb-3" onclick="showApprovalDetail('pending', 2)">
                    <div class="flex justify-between items-center">
                        <div class="flex items-center">
                            <div class="bg-green-100 p-2 rounded-lg mr-3">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" />
                                </svg>
                            </div>
                            <div>
                                <h3 class="font-bold">跨部门/单位调拨申请</h3>
                                <p class="text-sm text-gray-500">iPhone 13 Pro 手机</p>
                            </div>
                        </div>
                        <div class="text-right">
                            <span class="inline-block px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full">待审批</span>
                            <p class="text-xs text-gray-500 mt-1">2023-08-14 09:15</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 我已提交列表 -->
            <div id="submittedApprovals" class="approval-list hidden">
                <div class="bg-white p-3 rounded-xl shadow-sm mb-3" onclick="showApprovalDetail('submitted', 1)">
                    <div class="flex justify-between items-center">
                        <div class="flex items-center">
                            <div class="bg-red-100 p-2 rounded-lg mr-3">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                </svg>
                            </div>
                            <div>
                                <h3 class="font-bold">资产报废申请</h3>
                                <p class="text-sm text-gray-500">HP Pro 笔记本电脑</p>
                            </div>
                        </div>
                        <div class="text-right">
                            <span class="inline-block px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full">审批中</span>
                            <p class="text-xs text-gray-500 mt-1">2023-08-10 16:45</p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white p-3 rounded-xl shadow-sm mb-3" onclick="showApprovalDetail('submitted', 2)">
                    <div class="flex justify-between items-center">
                        <div class="flex items-center">
                            <div class="bg-purple-100 p-2 rounded-lg mr-3">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-purple-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                                </svg>
                            </div>
                            <div>
                                <h3 class="font-bold">盘点信息有误</h3>
                                <p class="text-sm text-gray-500">HermanMiller 人体工学椅</p>
                            </div>
                        </div>
                        <div class="text-right">
                            <span class="inline-block px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full">审批中</span>
                            <p class="text-xs text-gray-500 mt-1">2023-08-08 11:20</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 已完成列表 -->
            <div id="completedApprovals" class="approval-list hidden">
                <div class="bg-white p-3 rounded-xl shadow-sm mb-3" onclick="showApprovalDetail('completed', 1)">
                    <div class="flex justify-between items-center">
                        <div class="flex items-center">
                            <div class="bg-blue-100 p-2 rounded-lg mr-3">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                                </svg>
                            </div>
                            <div>
                                <h3 class="font-bold">部门/单位内变更申请</h3>
                                <p class="text-sm text-gray-500">Dell U2720Q 显示器</p>
                            </div>
                        </div>
                        <div class="text-right">
                            <span class="inline-block px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">已通过</span>
                            <p class="text-xs text-gray-500 mt-1">2023-07-30 15:40</p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white p-3 rounded-xl shadow-sm mb-3" onclick="showApprovalDetail('completed', 2)">
                    <div class="flex justify-between items-center">
                        <div class="flex items-center">
                            <div class="bg-red-100 p-2 rounded-lg mr-3">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                </svg>
                            </div>
                            <div>
                                <h3 class="font-bold">资产报废申请</h3>
                                <p class="text-sm text-gray-500">旧投影仪</p>
                            </div>
                        </div>
                        <div class="text-right">
                            <span class="inline-block px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full">已拒绝</span>
                            <p class="text-xs text-gray-500 mt-1">2023-07-25 13:15</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

<!-- 2. 审批详情页面 - 更新字段内容 -->
<div id="approvalDetail" class="screen p-4">
    <div class="flex items-center mb-4">
        <button onclick="backToApprovals()" class="mr-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
            </svg>
        </button>
        <h1 class="text-2xl font-bold">审批详情</h1>
    </div>
    
    <div class="bg-white rounded-xl shadow-sm p-4 mb-4">
        <div class="flex justify-between items-center mb-3">
            <h2 id="approvalDetailTitle" class="text-lg font-bold">部门/单位内变更申请</h2>
            <span id="approvalDetailStatus" class="inline-block px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full">待审批</span>
        </div>
        
        <div class="grid grid-cols-2 gap-2 mb-3">
            <div>
                <p class="text-gray-500 text-xs mb-1">申请人</p>
                <p class="font-medium text-sm">张三</p>
            </div>
            <div>
                <p class="text-gray-500 text-xs mb-1">申请公司</p>
                <p class="font-medium text-sm">环宇互联网科技有限公司</p>
            </div>
            <div>
                <p class="text-gray-500 text-xs mb-1">申请部门</p>
                <p class="font-medium text-sm">产品研发部</p>
            </div>
            <div>
                <p class="text-gray-500 text-xs mb-1">申请日期</p>
                <p class="font-medium text-sm">2024-03-22</p>
            </div>
        </div>
        
        <div class="border-t border-gray-200 pt-3 mt-3">
            <h3 class="font-medium text-sm mb-2">资产信息</h3>
            <div class="grid grid-cols-2 gap-2 mb-3">
                <div>
                    <p class="text-gray-500 text-xs mb-1">资产名称</p>
                    <p class="font-medium text-sm">HP Pro</p>
                </div>
                <div>
                    <p class="text-gray-500 text-xs mb-1">资产编号</p>
                    <p class="font-medium text-sm">AS-2024-001</p>
                </div>
                <div>
                    <p class="text-gray-500 text-xs mb-1">规格型号</p>
                    <p class="font-medium text-sm">13寸 M2芯片</p>
                </div>
                <div>
                    <p class="text-gray-500 text-xs mb-1">实物保管地点</p>
                    <p class="font-medium text-sm">北七家园区C座6层</p>
                </div>
            </div>
        </div>
        
        <div id="approvalDetailContent" class="border-t border-gray-200 pt-3 mt-3">
            <h3 class="font-medium text-sm mb-2">变更信息</h3>
            <div class="mb-2">
                <p class="text-gray-500 text-xs mb-1">本部门/处室资产管理人</p>
                <p class="font-medium text-sm">张三</p>
            </div>
            <div class="mb-2">
                <p class="text-gray-500 text-xs mb-1">本部门新资产保管人</p>
                <p class="font-medium text-sm">王五</p>
            </div>
            <div class="mb-2">
                <p class="text-gray-500 text-xs mb-1">本部门新保管地点</p>
                <p class="font-medium text-sm">北七家园区C座6层</p>
            </div>
            <!-- <div class="mb-2">
                <p class="text-gray-500 text-xs mb-1">变更后新实物保管人</p>
                <p class="font-medium text-sm">王五</p>
            </div> -->
            <div class="mb-2">
                <p class="text-gray-500 text-xs mb-1">变更原因</p>
                <p class="font-medium text-sm">部门内人员调整，资产随人员变更。</p>
            </div>
            <!-- <div class="mb-2">
                <p class="text-gray-500 text-xs mb-1">变更日期</p>
                <p class="font-medium text-sm">2024-03-25</p>
            </div> -->
            <!-- <div class="mb-2">
                <p class="text-gray-500 text-xs mb-1">申请说明</p>
                <p class="font-medium text-sm">由于工作需要，将设备调配至新工位。</p>
            </div> -->
        </div>
    </div>
    
    <div id="approvalActions" class="grid grid-cols-2 gap-3 mb-4">
        <button onclick="rejectApproval()" class="p-3 bg-gray-100 rounded-xl text-gray-700 text-sm font-medium">
            驳回
        </button>
        <button onclick="approveApproval()" class="p-3 bg-green-500 rounded-xl text-white text-sm font-medium">
            同意
        </button>
    </div>
    
    <div id="approvalHistory" class="bg-white rounded-xl shadow-sm p-4">
        <h3 class="font-bold mb-3">审批流程</h3>
        <div class="relative pl-6">
            <div class="absolute top-0 left-2 h-full w-0.5 bg-gray-200"></div>
            
            <div class="mb-4 relative">
                <div class="absolute top-0 left-0 -translate-x-1/2 w-3 h-3 rounded-full bg-green-500"></div>
                <div class="flex justify-between">
                    <div>
                        <p class="font-medium">提交申请</p>
                        <p class="text-sm text-gray-500">张三（申请人）</p>
                    </div>
                    <p class="text-xs text-gray-500">03-22 14:30</p>
                </div>
                <p class="text-xs text-gray-500 mt-1">申请设备调配至新工位</p>
            </div>
            
            <div class="mb-4 relative">
                <div class="absolute top-0 left-0 -translate-x-1/2 w-3 h-3 rounded-full bg-yellow-500"></div>
                <div class="flex justify-between">
                    <div>
                        <p class="font-medium">部门经理审批</p>
                        <p class="text-sm text-gray-500">王五（待审批）</p>
                    </div>
                    <p class="text-xs text-gray-500">-</p>
                </div>
            </div>
            
            <div class="mb-4 relative">
                <div class="absolute top-0 left-0 -translate-x-1/2 w-3 h-3 rounded-full bg-gray-300"></div>
                <div class="flex justify-between">
                    <div>
                        <p class="font-medium">资产管理员审批</p>
                        <p class="text-sm text-gray-500">赵六</p>
                    </div>
                    <p class="text-xs text-gray-500">-</p>
                </div>
            </div>
            
            <div class="relative">
                <div class="absolute top-0 left-0 -translate-x-1/2 w-3 h-3 rounded-full bg-gray-300"></div>
                <div class="flex justify-between">
                    <div>
                        <p class="font-medium">资产变更执行</p> 
                        <p class="text-sm text-gray-500">系统自动</p>
                    </div>
                    <p class="text-xs text-gray-500">-</p>
                </div>
            </div>
        </div>
    </div>
</div>

        <!-- 资产盘点页面 -->
        <div id="inventory" class="screen p-4">
            <div class="flex justify-between items-center mb-4">
                <h1 class="text-2xl font-bold">资产盘点</h1>
                <button class="p-2 rounded-full bg-gray-100" onclick="showInventoryHistory()">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                </button>
            </div>
            
            <!-- 当前盘点任务信息 -->
            <div class="bg-white rounded-xl shadow-sm p-4 mb-4">
                <h2 class="text-lg font-bold mb-2">2023年第三季度资产盘点</h2>
                <div class="flex justify-between mb-2">
                    <p class="text-sm text-gray-500">盘点日期：</p>
                    <p class="text-sm">2023-08-01 ~ 2023-08-15</p>
                </div>
                <div class="flex justify-between mb-3">
                    <p class="text-sm text-gray-500">需盘点资产：</p>
                    <p class="text-sm">4项</p>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2">
                    <div class="bg-blue-500 h-2 rounded-full" style="width: 50%"></div>
                </div>
                <div class="flex justify-between mt-1">
                    <p class="text-xs text-gray-500">已盘点2项</p>
                    <p class="text-xs text-blue-500">50%</p>
                </div>
            </div>
            
            <!-- 待盘点资产列表 -->
            <h3 class="font-bold mb-2">待盘点资产</h3>
            <div class="filter-section">
                <div class="filter-item">
                    <label for="department-filter">保管部门：</label>
                    <select id="department-filter">
                        <option value="">全部</option>
                        <option value="">财务资产部</option>
                        <option value="">办公室</option>
                        <!-- 部门选项将通过JavaScript动态生成 -->
                    </select>
                </div>
                <div class="filter-item">
                    <label for="custodian-filter">保管人：</label>
                    <select id="custodian-filter">
                        <option value="">全部</option>
                        <option value="">张三</option>
                        <option value="">李四</option>
                        <!-- 保管人选项将通过JavaScript动态生成 -->
                    </select>
                </div>
                <!-- <button id="apply-filter" class="btn">应用筛选</button>
                <button id="clear-filter" class="btn">清除筛选</button> -->
            </div>
            <div class="bg-white p-3 rounded-xl shadow-sm mb-3" onclick="showInventoryCheck()">
                <div class="flex">
                    <div class="mr-3 rounded-lg overflow-hidden" style="width: 60px; height: 60px;">
                        <img src="https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=150&h=150&fit=crop" alt="HP Pro" class="w-full h-full object-cover">
                    </div>
                    <div class="flex-1">
                        <h3 class="text-lg font-bold">HP Pro 笔记本电脑</h3>
                        <div class="flex justify-between text-sm text-gray-500 mt-1">
                            <span>资产编号: AS-2023-0001</span>
                        </div>
                        <div class="flex justify-between text-sm text-gray-500 mt-1">
                            <span>保管部门: 财务资产部</span>
                            <span>保管人: 张三</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="bg-white p-3 rounded-xl shadow-sm mb-3" onclick="showInventoryCheck()">
                <div class="flex">
                    <div class="mr-3 rounded-lg overflow-hidden" style="width: 60px; height: 60px;">
                        <img src="https://images.unsplash.com/photo-1510557880182-3d4d3cba35a5?w=150&h=150&fit=crop" alt="iPhone 13 Pro" class="w-full h-full object-cover">
                    </div>
                    <div class="flex-1">
                        <h3 class="text-lg font-bold">iPhone 13 Pro 手机</h3>
                        <div class="flex justify-between text-sm text-gray-500 mt-1">
                            <span>资产编号: AS-2023-0042</span>
                        </div>
                        <div class="flex justify-between text-sm text-gray-500 mt-1">
                            <span>保管部门: 财务资产部</span>
                            <span>保管人: 张三</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 已盘点资产列表 -->
            <h3 class="font-bold mb-2">已盘点资产</h3>
            <div class="bg-white p-3 rounded-xl shadow-sm mb-3">
                <div class="flex">
                    <div class="mr-3 rounded-lg overflow-hidden" style="width: 60px; height: 60px;">
                        <img class="w-16 h-16 rounded-xl object-cover mr-4" src="https://images.unsplash.com/photo-1527219525722-f9767a7f2884?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80" alt="AOC显示器">
                    </div>
                    <div class="flex-1">
                        <h3 class="text-lg font-bold">HermanMiller 人体工学椅</h3>
                        <div class="flex justify-between text-sm text-gray-500 mt-1">
                            <span>资产编号: AS-2022-0156</span>
                        </div>
                        <div class="flex justify-between text-sm text-gray-500 mt-1">
                            <span>盘点结果: 盘点一致</span>
                            <span class="text-green-500">已完成</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="bg-white p-3 rounded-xl shadow-sm mb-3">
                <div class="flex">
                    <div class="mr-3 rounded-lg overflow-hidden" style="width: 60px; height: 60px;">
                        <img class="w-16 h-16 rounded-xl object-cover mr-4" src="https://images.unsplash.com/photo-1555532538-dcdbd01d373d?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80" alt="Logitech鼠标">
                    </div>
                    <div class="flex-1">
                        <h3 class="text-lg font-bold">Dell U2720Q 显示器</h3>
                        <div class="flex justify-between text-sm text-gray-500 mt-1">
                            <span>资产编号: AS-2023-0085</span>
                        </div>
                        <div class="flex justify-between text-sm text-gray-500 mt-1">
                            <span>盘点结果: 信息有误</span>
                            <span class="text-yellow-500">已提交审批</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 资产盘点历史记录页面 -->
        <div id="inventoryHistory" class="screen p-4">
            <div class="flex items-center mb-4">
                <button onclick="backToInventory()" class="mr-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                    </svg>
                </button>
                <h1 class="text-2xl font-bold">盘点历史</h1>
            </div>
            
            <div class="bg-white p-3 rounded-xl shadow-sm mb-3">
                <h3 class="text-lg font-bold">2023年第二季度资产盘点</h3>
                <div class="flex justify-between text-sm text-gray-500 mt-1">
                    <span>2023-05-01 ~ 2023-05-15</span>
                    <span class="text-green-500">已完成</span>
                </div>
                <div class="flex justify-between text-sm text-gray-500 mt-1">
                    <span>需盘点资产：4项</span>
                    <span>已盘点：4项</span>
                </div>
            </div>
            
            <div class="bg-white p-3 rounded-xl shadow-sm mb-3">
                <h3 class="text-lg font-bold">2023年第一季度资产盘点</h3>
                <div class="flex justify-between text-sm text-gray-500 mt-1">
                    <span>2023-02-01 ~ 2023-02-15</span>
                    <span class="text-green-500">已完成</span>
                </div>
                <div class="flex justify-between text-sm text-gray-500 mt-1">
                    <span>需盘点资产：3项</span>
                    <span>已盘点：3项</span>
                </div>
            </div>
            
            <div class="bg-white p-3 rounded-xl shadow-sm mb-3">
                <h3 class="text-lg font-bold">2022年第四季度资产盘点</h3>
                <div class="flex justify-between text-sm text-gray-500 mt-1">
                    <span>2022-11-01 ~ 2022-11-15</span>
                    <span class="text-green-500">已完成</span>
                </div>
                <div class="flex justify-between text-sm text-gray-500 mt-1">
                    <span>需盘点资产：3项</span>
                    <span>已盘点：3项</span>
                </div>
            </div>
        </div>

        <!-- 盘点检查页面 -->
        <div id="inventoryCheck" class="screen p-4">
            <div class="flex items-center mb-4">
                <button onclick="backToInventory()" class="mr-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                    </svg>
                </button>
                <h1 class="text-2xl font-bold">资产盘点</h1>
            </div>
            
            <div class="bg-white rounded-xl shadow-sm p-4 mb-4">
                <div class="flex justify-center mb-4">
                    <div class="rounded-full overflow-hidden" style="width: 100px; height: 100px;">
                        <img src="https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=200&h=200&fit=crop" alt="HP Pro" class="w-full h-full object-cover">
                    </div>
                </div>
                
                <div class="grid grid-cols-2 gap-3">
                    <div>
                        <p class="text-gray-500 text-sm mb-1">资产名称</p>
                        <p class="font-medium">HP Pro 笔记本电脑</p>
                    </div>
                    <div>
                        <p class="text-gray-500 text-sm mb-1">资产编码</p>
                        <p class="font-medium">AS-2023-0001</p>
                    </div>
                    <div>
                        <p class="text-gray-500 text-sm mb-1">资产规格型号</p>
                        <p class="font-medium">M1 Pro 14寸</p>
                    </div>
                    <div>
                        <p class="text-gray-500 text-sm mb-1">品牌</p>
                        <p class="font-medium">HP惠普</p>
                    </div>
                    <div>
                        <p class="text-gray-500 text-sm mb-1">制造商</p>
                        <p class="font-medium">惠普中国</p>
                    </div>                
                    <div>
                        <p class="text-gray-500 text-sm mb-1">所属部门</p>
                        <p class="font-medium">信息技术部</p>
                    </div>
                    <div>
                        <p class="text-gray-500 text-sm mb-1">保管人</p>
                        <p class="font-medium">张三</p>
                    </div>
                    <div>
                        <p class="text-gray-500 text-sm mb-1">保管地点</p>
                        <p class="font-medium">北七家园区C座6层</p>
                    </div>
                </div>
            </div>
            
            <div class="flex justify-between gap-3 mb-18 mt-24">
                <button onclick="inventorySuccess()" class="flex-1 py-3 bg-green-500 rounded-xl text-white text-sm font-medium">
                    盘点一致
                </button>
                <button onclick="showInventoryError()" class="flex-1 py-3 bg-yellow-500 rounded-xl text-white text-sm font-medium">
                    信息有误
                </button>
            </div>
        </div>

 <!-- 修改信息有误页面 - 增加更多资产信息字段 -->
<div id="inventoryError" class="screen p-4">
    <div class="flex items-center mb-4">
        <button onclick="backToInventoryCheck()" class="mr-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
            </svg>
        </button>
        <h1 class="text-2xl font-bold">信息有误</h1>
    </div>
    
    <div class="bg-white rounded-xl shadow-sm p-4 mb-4">
        <h2 class="text-base font-bold mb-2">资产总览信息</h2>
        <div class="grid grid-cols-2 gap-2">
            <div>
                <p class="text-gray-500 text-xs">资产名称</p>
                <p class="font-medium text-sm">HP Pro 笔记本电脑</p>
            </div>
            <div>
                <p class="text-gray-500 text-xs">资产编码</p>
                <p class="font-medium text-sm">AS-2023-0001</p>
            </div>
            <div>
                <p class="text-gray-500 text-xs">设备编码</p>
                <p class="font-medium text-sm">MAC-2023-0001</p>
            </div>
            <div>
                <p class="text-gray-500 text-xs">品牌</p>
                <p class="font-medium text-sm">Apple</p>
            </div>
            <div>
                <p class="text-gray-500 text-xs">规格型号</p>
                <p class="font-medium text-sm">M1 Pro 14寸</p>
            </div>
            <div>
                <p class="text-gray-500 text-xs">资产类别</p>
                <p class="font-medium text-sm">IT设备</p>
            </div>
        </div>
    </div>
    
    <div class="bg-white rounded-xl shadow-sm p-4 mb-4">
        <h2 class="text-base font-bold mb-2">实物保管信息</h2>
        <div class="grid grid-cols-2 gap-2">
            <div>
                <p class="text-gray-500 text-xs">资产保管人</p>
                <p class="font-medium text-sm">张三</p>
            </div>
            <div>
                <p class="text-gray-500 text-xs">资产保管地点</p>
                <p class="font-medium text-sm">北七家园区C座6层</p>
            </div>
            <div>
                <p class="text-gray-500 text-xs">实物保管地点</p>
                <p class="font-medium text-sm">北七家园区C座6层储物柜</p>
            </div>
        </div>
    </div>
    
    <div class="bg-white rounded-xl shadow-sm p-4 mb-4">
        <h2 class="text-base font-bold mb-2">盘点信息</h2>
        <div class="mb-3">
            <label class="block text-gray-700 text-sm font-bold mb-2" for="error-type">
                信息有误类型
            </label>
            <select class="block appearance-none w-full bg-white border border-gray-200 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:border-blue-500" id="error-type">
                <option>请选择信息有误类型</option>
                <option>资产盘亏</option>
                <option>资产保管人有误</option>
                <option>资产信息内容有误</option>
                <option>实物保管地点有误</option>
                <option>其他类型</option>
            </select>
        </div>
        
        <div class="mb-3">
            <label class="block text-gray-700 text-sm font-bold mb-2" for="error-detail">
                详细说明
            </label>
            <textarea class="appearance-none border border-gray-200 rounded w-full py-3 px-3 text-gray-700 leading-tight focus:outline-none focus:border-blue-500" id="error-detail" rows="4" placeholder="请详细描述信息有误情况..."></textarea>
        </div>
    </div>
    
    <div class="flex justify-center">
        <button onclick="submitInventoryError()" class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-3 px-8 rounded-lg">
            提交信息有误
        </button>
    </div>
</div>

        <!-- 底部标签栏 -->
        <div class="tab-bar">
            <div class="tab active" onclick="showTab('myAssets')">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
                </svg>
                <span class="text-xs mt-1">我的资产</span>
            </div>
            <div class="tab" onclick="showTab('approvals')">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4" />
                </svg>
                <span class="text-xs mt-1">审批单据</span>
            </div>
            <div class="tab" onclick="showTab('inventory')">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" />
                </svg>
                <span class="text-xs mt-1">资产盘点</span>
            </div>
        </div>
    </div>

    <!-- 审批选择弹窗 - 修复定位问题 -->
    <div id="approvalModal" class="hidden z-10 absolute" style="top: 30px; left: 0; right: 0; bottom: 50px;">
        <div class="bg-black bg-opacity-50 absolute inset-0"></div>
        <div class="relative h-full flex items-center justify-center">
            <div class="bg-white rounded-xl p-4 w-10/12 max-w-sm mx-auto shadow-lg">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-lg font-bold">选择审批人</h2>
                    <button onclick="closeApprovalModal()" class="p-1">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
                
                <div class="mb-4">
                    <p class="text-gray-500 text-sm mb-1">审批类型</p>
                    <p id="modalApprovalType" class="font-medium">部门/单位内变更</p>
                </div>
                
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="approver-select">
                        选择审批人
                    </label>
                    <select class="block appearance-none w-full bg-white border border-gray-200 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:border-blue-500" id="approver-select">
                        <option value="">请选择审批人</option>
                        <option value="wang">王经理（部门主管）</option>
                        <option value="li">李总监（资产管理员）</option>
                        <option value="zhang">张主任（财务负责人）</option>
                    </select>
                </div>

                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="approval-comment">
                        审批说明
                    </label>
                    <textarea class="appearance-none border border-gray-200 rounded w-full py-3 px-3 text-gray-700 leading-tight focus:outline-none focus:border-blue-500" id="approval-comment" rows="2" placeholder="请输入审批说明（选填）..."></textarea>
                </div>
                
                <div class="flex justify-end space-x-2">
                    <button onclick="closeApprovalModal()" class="px-4 py-2 bg-gray-200 rounded-lg text-gray-700">
                        取消
                    </button>
                    <button onclick="confirmApproval()" class="px-4 py-2 bg-blue-500 text-white rounded-lg">
                        确认提交
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- 审批成功提示 - 修复定位问题 -->
    <div id="successModal" class="hidden z-10 absolute" style="top: 30px; left: 0; right: 0; bottom: 50px;">
        <div class="bg-black bg-opacity-50 absolute inset-0"></div>
        <div class="relative h-full flex items-center justify-center">
            <div class="bg-white rounded-xl p-4 w-10/11 max-w-md text-center">
                <div class="flex justify-center mb-4">
                    <div class="bg-green-100 p-3 rounded-full">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                        </svg>
                    </div>
                </div>
                <h2 class="text-xl font-bold mb-2">提交成功</h2>
                <p class="text-gray-600 mb-6">您的审批申请已提交成功，我们会及时通知您审批结果</p>
                <button onclick="closeSuccessModal()" class="w-full py-3 bg-blue-500 text-white rounded-lg">
                    知道了
                </button>
            </div>
        </div>
    </div>

    <!-- 盘点取消确认弹窗 - 修复定位问题 -->
    <div id="cancelInventoryModal" class="hidden z-10 absolute" style="top: 30px; left: 0; right: 0; bottom: 50px;">
        <div class="bg-black bg-opacity-50 absolute inset-0"></div>
        <div class="relative h-full flex items-center justify-center">
            <div class="bg-white rounded-xl p-4 w-11/12 max-w-md">
                <h2 class="text-lg font-bold mb-4">确认取消</h2>
                <p class="text-gray-600 mb-6">当前盘点信息尚未提交，确认要取消吗？</p>
                <div class="flex justify-end space-x-3">
                    <button onclick="closeCancelModal()" class="px-4 py-2 bg-gray-200 rounded-lg text-gray-700">
                        继续盘点
                    </button>
                    <button onclick="confirmCancelInventory()" class="px-4 py-2 bg-red-500 text-white rounded-lg">
                        确认取消
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
                 // 初始化筛选功能
    function initializeFilters() {
        const assets = JSON.parse(localStorage.getItem('assets')) || [];
        const departmentFilter = document.getElementById('department-filter');
        const custodianFilter = document.getElementById('custodian-filter');
        
        // 获取唯一的部门和保管人列表
        const departments = [...new Set(assets.map(asset => asset.department))];
        const custodians = [...new Set(assets.map(asset => asset.custodian))];
        
        // 添加部门选项
        departments.forEach(dept => {
            if (dept) { // 确保不为空
                const option = document.createElement('option');
                option.value = dept;
                option.textContent = dept;
                departmentFilter.appendChild(option);
            }
        });
        
        // 添加保管人选项
        custodians.forEach(person => {
            if (person) { // 确保不为空
                const option = document.createElement('option');
                option.value = person;
                option.textContent = person;
                custodianFilter.appendChild(option);
            }
        });
        
        // 筛选功能
        document.getElementById('apply-filter').addEventListener('click', applyFilters);
        document.getElementById('clear-filter').addEventListener('click', clearFilters);
    }
    
    // 应用筛选
    function applyFilters() {
        const departmentValue = document.getElementById('department-filter').value;
        const custodianValue = document.getElementById('custodian-filter').value;
        
        const assets = JSON.parse(localStorage.getItem('assets')) || [];
        let filteredAssets = [...assets];
        
        // 按部门筛选
        if (departmentValue) {
            filteredAssets = filteredAssets.filter(asset => asset.department === departmentValue);
        }
        
        // 按保管人筛选
        if (custodianValue) {
            filteredAssets = filteredAssets.filter(asset => asset.custodian === custodianValue);
        }
        
        // 重新渲染表格
        renderAssetTable(filteredAssets);
    }
    
    // 清除筛选
    function clearFilters() {
        document.getElementById('department-filter').value = '';
        document.getElementById('custodian-filter').value = '';
        
        // 重新渲染表格，显示所有资产
        const assets = JSON.parse(localStorage.getItem('assets')) || [];
        renderAssetTable(assets);
    }
    
    // 修改渲染资产表格函数以接受筛选后的资产
    function renderAssetTable(assetsToRender = null) {
        const assets = assetsToRender || JSON.parse(localStorage.getItem('assets')) || [];
        const tableBody = document.querySelector('#asset-table tbody');
        tableBody.innerHTML = '';
        
        // 渲染表格逻辑...
        // ... existing code ...
    }
    
    // 页面加载后初始化筛选功能
    document.addEventListener('DOMContentLoaded', function() {
        // ... existing code ...
        initializeFilters();
    });
        // 页面切换函数
        function showTab(tabId) {
            // 隐藏所有页面
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            
            // 显示选中的页面
            document.getElementById(tabId).classList.add('active');
            
            // 更新底部标签栏状态
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            event.currentTarget.classList.add('active');
        }
        
        // 显示资产详情
        function showAssetDetail() {
            document.getElementById('myAssets').classList.remove('active');
            document.getElementById('assetDetail').classList.add('active');
        }
        
        // 返回资产列表
        function backToAssets() {
            document.getElementById('assetDetail').classList.remove('active');
            document.getElementById('myAssets').classList.add('active');
        }
        
        // 显示部门/单位内变更申请
        function showDeptChange() {
            document.getElementById('assetDetail').classList.remove('active');
            document.getElementById('deptChange').classList.add('active');
        }
        
        // 显示跨部门/单位调拨申请
        function showCrossDeptTransfer() {
            document.getElementById('assetDetail').classList.remove('active');
            document.getElementById('crossDeptTransfer').classList.add('active');
        }
        
        // 显示资产报废申请
        function showAssetDisposal() {
            document.getElementById('assetDetail').classList.remove('active');
            document.getElementById('assetDisposal').classList.add('active');
        }
        
        // 返回资产详情
        function backToAssetDetail() {
            // 隐藏所有页面
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            // 显示资产详情页面
            document.getElementById('assetDetail').classList.add('active');
        }
        
        // 提交审批
        function submitApproval(type) {
            // 记录审批类型到modal中
            document.getElementById('modalApprovalType').textContent = type;
            // 显示选择审批人弹窗
            document.getElementById('approvalModal').classList.remove('hidden');
        }
        
        // 关闭审批选择弹窗
        function closeApprovalModal() {
            document.getElementById('approvalModal').classList.add('hidden');
        }
        
        // 同意审批
        function approveApproval() {
            // 显示选择审批人弹窗
            document.getElementById('modalApprovalType').textContent = '审批通过';
            document.getElementById('approvalModal').classList.remove('hidden');
        }
        
      // 确认提交审批
      function confirmApproval() {
            // 获取选中的审批人
            const approverSelect = document.getElementById('approver-select');
            const approver = approverSelect.options[approverSelect.selectedIndex].text;
            
            // 检查是否选择了审批人
            if (approverSelect.value === '') {
                alert('请选择审批人');
                return;
            }
            
            // 隐藏审批选择弹窗
            document.getElementById('approvalModal').classList.add('hidden');
            
            // 显示提交成功弹窗
            document.getElementById('successModal').classList.remove('hidden');
            
            // 根据审批类型设置返回的界面
            const approvalType = document.getElementById('modalApprovalType').textContent;
            if (approvalType === '部门/单位内变更' || approvalType === '跨部门/单位调拨' || approvalType === '资产报废') {
                // 如果是我的资产的单据提交界面，返回资产详情界面
                document.getElementById('successModal').onclick = function() {
                    closeSuccessModal();
                    backToAssetDetail();
                };
            } else if (approvalType === '资产盘点信息有误') {
                // 如果是资产盘点的信息有误，返回资产盘点界面
                document.getElementById('successModal').onclick = function() {
                    closeSuccessModal();
                    backToInventory();
                };
            } else if (approvalType === '审批通过') {
                // 如果是审批通过，返回审批列表
                document.getElementById('successModal').onclick = function() {
                    closeSuccessModal();
                    backToApprovals();
                };
            }
        }

        // 关闭成功提示弹窗
        function closeSuccessModal() {
            document.getElementById('successModal').classList.add('hidden');
        }
        
        // 显示审批选项卡
        function showApprovalTab(tabId) {
            // 隐藏所有审批列表
            document.querySelectorAll('.approval-list').forEach(list => {
                list.classList.add('hidden');
            });
            
            // 显示选中的审批列表
            document.getElementById(`${tabId}Approvals`).classList.remove('hidden');
            
            // 更新审批Tab状态
            document.querySelectorAll('#pendingTab, #submittedTab, #completedTab').forEach(tab => {
                tab.classList.remove('text-blue-500', 'border-b-2', 'border-blue-500');
                tab.classList.add('text-gray-500');
            });
            
            document.getElementById(`${tabId}Tab`).classList.remove('text-gray-500');
            document.getElementById(`${tabId}Tab`).classList.add('text-blue-500', 'border-b-2', 'border-blue-500');
        }
        
        // 审批详情模板函数
        function updateApprovalDetail(approvalType) {
            const approvalDetailTitle = document.getElementById('approvalDetailTitle');
            const approvalDetailContent = document.getElementById('approvalDetailContent');
            
            approvalDetailTitle.textContent = approvalType + '申请';
            
            if (approvalType === '部门/单位内变更') {
                approvalDetailContent.innerHTML = `
                    <h3 class="font-medium text-sm mb-2">变更信息</h3>
                    <div class="mb-2">
                        <p class="text-gray-500 text-xs mb-1">本部门/处室资产管理人</p>
                        <p class="font-medium text-sm">张三</p>
                    </div>
                    <div class="mb-2">
                        <p class="text-gray-500 text-xs mb-1">变更后新实物保管人</p>
                        <p class="font-medium text-sm">王五</p>
                    </div>
                    <div class="mb-2">
                        <p class="text-gray-500 text-xs mb-1">变更后新保管地点</p>
                        <p class="font-medium text-sm">北七家园区C座6层</p>
                    </div>
                    <div class="mb-2">
                        <p class="text-gray-500 text-xs mb-1">变更原因</p>
                        <p class="font-medium text-sm">部门内人员调整，资产随人员变更。</p>
                    </div>
                    <div class="mb-2">
                        <p class="text-gray-500 text-xs mb-1">变更日期</p>
                        <p class="font-medium text-sm">2024-03-25</p>
                    </div>
                    <div class="mb-2">
                        <p class="text-gray-500 text-xs mb-1">申请说明</p>
                        <p class="font-medium text-sm">由于工作需要，将设备调配至新工位。</p>
                    </div>
                `;
            } else if (approvalType === '跨部门/单位调拨') {
                approvalDetailContent.innerHTML = `
                    <h3 class="font-medium text-sm mb-2">调拨信息</h3>
                    <div class="mb-2">
                        <p class="text-gray-500 text-xs mb-1">本部门/处室资产管理人</p>
                        <p class="font-medium text-sm">张三</p>
                    </div>
                    <div class="mb-2">
                        <p class="text-gray-500 text-xs mb-1">调入单位</p>
                        <p class="font-medium text-sm">公司本部</p>
                    </div>
                    <div class="mb-2">
                        <p class="text-gray-500 text-xs mb-1">调入部门/处室</p>
                        <p class="font-medium text-sm">办公室</p>
                    </div>
                    <div class="mb-2">
                        <p class="text-gray-500 text-xs mb-1">调入资产新保管人</p>
                        <p class="font-medium text-sm">王五（市场部）</p>
                    </div>
                     <div class="mb-2">
                        <p class="text-gray-500 text-xs mb-1">调入资产新实物管理人</p>
                        <p class="font-medium text-sm">王五（市场部）</p>
                    </div>                   
                    <div class="mb-2">
                        <p class="text-gray-500 text-xs mb-1">变更后新保管地点</p>
                        <p class="font-medium text-sm">北七家园区C座6层</p>
                    </div>

                `;
            } else if (approvalType === '资产报废') {
                approvalDetailContent.innerHTML = `
                    <h3 class="font-medium text-sm mb-2">报废信息</h3>
                    <div class="mb-2">
                        <p class="text-gray-500 text-xs mb-1">报废类型</p>
                        <p class="font-medium text-sm">设备损坏无法修复</p>
                    </div>
                    <div class="mb-2">
                        <p class="text-gray-500 text-xs mb-1">报废说明</p>
                        <p class="font-medium text-sm">设备主板故障，维修成本过高，已无修复价值。</p>
                    </div>
                    <div class="mb-2">
                        <p class="text-gray-500 text-xs mb-1">预估报废价值 (元)</p>
                        <p class="font-medium text-sm">1000.00</p>
                    </div>
                    <div class="mb-2">
                        <p class="text-gray-500 text-xs mb-1">申请说明</p>
                        <p class="font-medium text-sm">设备已无法正常使用，建议报废处理。</p>
                    </div>
                `;
            }
        }
        
        // 修改现有的showApprovalDetail函数
        function showApprovalDetail(type, id) {
            document.getElementById('approvals').classList.remove('active');
            document.getElementById('approvalDetail').classList.add('active');
            
            // 如果是已完成或已提交的审批，隐藏操作按钮
            if (type != 'pending') {
                document.getElementById('approvalActions').classList.add('hidden');
            } else {
                document.getElementById('approvalActions').classList.remove('hidden');
            }
            
            // 根据不同类型更新详情内容
            let approvalType = '';
            if (type === 'pending' && id === 1) {
                approvalType = '部门/单位内变更';
            } else if (type === 'pending' && id === 2) {
                approvalType = '跨部门/单位调拨';
            } else if (type === 'submitted' && id === 1) {
                approvalType = '资产报废';
            } else if (type === 'completed' && id === 1) {
                approvalType = '部门/单位内变更';
            } else if (type === 'completed' && id === 2) {
                approvalType = '资产报废';
            }
            
            updateApprovalDetail(approvalType);
        }
        
        // 返回审批列表
        function backToApprovals() {
            document.getElementById('approvalDetail').classList.remove('active');
            document.getElementById('approvals').classList.add('active');
        }
        
        // 驳回审批
        function rejectApproval() {
            alert('审批已驳回');
            backToApprovals();
        }
        
        // 显示盘点历史
        function showInventoryHistory() {
            document.getElementById('inventory').classList.remove('active');
            document.getElementById('inventoryHistory').classList.add('active');
        }
        
        // 返回盘点页面
        function backToInventory() {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById('inventory').classList.add('active');
        }
        
        // 显示盘点检查
        function showInventoryCheck() {
            document.getElementById('inventory').classList.remove('active');
            document.getElementById('inventoryCheck').classList.add('active');
        }
        
        // 盘点一致
        function inventorySuccess() {
            alert('盘点一致，已更新盘点状态');
            backToInventory();
        }
        
        // 显示信息有误页面
        function showInventoryError() {
            document.getElementById('inventoryCheck').classList.remove('active');
            document.getElementById('inventoryError').classList.add('active');
        }
        
        // 返回盘点检查页面
        function backToInventoryCheck() {
            document.getElementById('inventoryError').classList.remove('active');
            document.getElementById('inventoryCheck').classList.add('active');
        }
        
        // 提交信息有误
        function submitInventoryError() {
            const errorType = document.getElementById('error-type').value;
            
            if (errorType === '请选择信息有误类型') {
                // 创建一个模态弹窗而不是使用alert
                const modal = document.createElement('div');
                modal.className = 'fixed inset-0 flex items-center justify-center z-50';
                modal.innerHTML = `
                    <div class="bg-black bg-opacity-50 absolute inset-0"></div>
                    <div class="bg-white rounded-xl p-4 w-10/11 max-w-md text-center relative z-10">
                        <div class="mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-yellow-500 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                            </svg>
                        </div>
                        <h2 class="text-xl font-bold mb-2">提示</h2>
                        <p class="text-gray-600 mb-6">请选择信息有误类型</p>
                        <button class="w-full py-3 bg-blue-500 text-white rounded-lg" onclick="this.parentNode.parentNode.remove()">
                            确定
                        </button>
                    </div>
                `;
                document.body.appendChild(modal);
                return;
            }
            
            // 显示选择审批人弹窗，并设置审批类型
            document.getElementById('modalApprovalType').textContent = '资产盘点信息有误';
            document.getElementById('approvalModal').classList.remove('hidden');
        }
    </script>
</body>
</html>
